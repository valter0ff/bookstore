%tr{class: "#{dom_id(cart_item)}"}
  %td
    .general-img-wrap-table
      = link_to image_tag(cart_item.book.cover_image,
        class: 'cart-img-shadow pull-left',
        alt: 'design-book'), cart_item.book
  %td
    %p.title= link_to cart_item.book.title, cart_item.book
  %td
    %span.font-16.in-gold-500= cart_item.book.price_with_currency
  %td
    .input-group.show
      = link_to book_cart_items_path(book_id: cart_item.book.id, cart_item: { books_count: -1 }),
          class: 'input-link',
          remote: true,
          method: :post do
        %i.fa.fa-minus.line-height-40
      = simple_form_for cart_item do |f|
        = f.input_field :books_count, as: :string,
          class: 'form-control quantity-input',
          value: cart_item.books_count,
          onchange: 'this.form.submit()'
      = link_to cart_item_path(cart_item, cart_item: { books_count: 1 }),
          class: 'input-link',
          remote: true,
          method: :put do
        %i.fa.fa-plus.line-height-40
  %td
    %span.font-16.in-gold-500.subtotal= cart_item.subtotal_price
  %td
    = link_to cart_item_path(cart_item),
      method: :delete,
      class: 'close general-cart-close',
      'aria-label': 'Close',
      remote: true,
      data: { confirm: "Are you sure?" } do
      %span{'aria-hidden': "true"} &times;
